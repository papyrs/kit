var p=async()=>{let e=`${window.location.protocol}//${window.location.host}${window.location.pathname}`;await navigator.share({title:document.title,url:e})},u=()=>{let e=document.querySelector("web-social-share");if(!e){console.error("No component to share on desktop.");return}let o=`${window.location.protocol}//${window.location.host}${window.location.pathname}`,t={displayNames:!0,config:[{twitter:{socialShareUrl:o,socialSharePopupWidth:300,socialSharePopupHeight:400}},{telegram:{socialShareUrl:o}},{openchat:{socialShareUrl:o}},{linkedin:{socialShareUrl:o}},{dscvr:{socialShareUrl:o}},{hackernews:{socialShareUrl:o}},{email:{socialShareBody:o}},{copy:{socialShareUrl:o}}]};e.share=t,e.show=!0},h=async()=>{if(navigator&&navigator.share){await p();return}u()},n=()=>{let e=document.querySelector("web-social-share"),o=new MutationObserver(async()=>{o.disconnect(),await h()});o.observe(e,{attributes:!0,subtree:!0}),a("block")},a=e=>{document.querySelectorAll("web-social-share div").forEach(t=>t.style.setProperty("display",e))},v=()=>{document.querySelector("web-social-share")?.addEventListener("closed",()=>a("none"),{passive:!0})},i=()=>{document.addEventListener("DOMContentLoaded",v,{once:!0})};var l=()=>{let e=document.querySelector("button.toolbar"),{bottom:o,left:t}=e?e.getBoundingClientRect():{bottom:0,left:0},s=document.querySelector("div.popover");s?.style.setProperty("--popover-top",`${o}px`),s?.style.setProperty("--popover-left",`${t}px`)},w=()=>{let e=document.querySelector("div.popover");if(!e){console.error("No popover to display. Quite weird");return}let o=new MutationObserver(()=>{o.disconnect(),setTimeout(()=>e?.classList.add("show"),100)});o.observe(e,{attributes:!0}),e?.style.setProperty("display","block")},c=()=>{let e=document.querySelector("div.popover");if(!e){console.error("No popover to display. Quite weird");return}let o=new MutationObserver(()=>{o.disconnect(),setTimeout(()=>e?.style.setProperty("display","none"),100)});o.observe(e,{attributes:!0}),e?.classList.remove("show")},b=()=>document.querySelector("a.more")?.style.setProperty("display",window.location.pathname==="/"?"none":"inline-flex"),r=({selector:e,callback:o})=>{document.querySelector(e)?.addEventListener("click",o,{passive:!0})},m=()=>{l(),r({selector:"button.toolbar",callback:w}),r({selector:"div.backdrop",callback:c}),r({selector:"button.share",callback:()=>{c(),n()}}),b()},d=()=>{document.addEventListener("DOMContentLoaded",m,{once:!0}),window.addEventListener("resize",l,{passive:!0})};window.prismjs_cdn="https://cdn.papy.rs/libs/prismjs/1.27.0";d();i();
